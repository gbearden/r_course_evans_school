<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Part 1 - R Basics</title>
    <meta charset="utf-8" />
    <meta name="author" content="Graham Bearden" />
    <meta name="date" content="2023-10-03" />
    <script src="libs/header-attrs-2.20/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
    <link href="libs/countdown-0.4.0/countdown.css" rel="stylesheet" />
    <script src="libs/countdown-0.4.0/countdown.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Part 1 - R Basics
]
.author[
### Graham Bearden
]
.institute[
### University of Washington
]
.date[
### October 3, 2023
]

---

class: inverse, middle, center

# Getting Started



---

# Set Up

- Set up your machine to run R
  - Install R [on a Mac with an Intel chip](https://cran.rstudio.com/bin/macosx/big-sur-x86_64/base/R-4.3.1-x86_64.pkg), [on a Mac with an M1/M2 chip](https://cran.rstudio.com/bin/macosx/big-sur-arm64/base/R-4.3.1-arm64.pkg), or [on a PC](https://cran.rstudio.com/bin/windows/base/R-4.3.1-win.exe)
  - Install RStudio [on a Mac](https://download1.rstudio.org/electron/macos/RStudio-2023.06.2-561.dmg) or [on a PC](https://download1.rstudio.org/electron/windows/RStudio-2023.06.2-561.exe)
- Create a [ChatGPT](https://chat.openai.com/auth/login) account

---

# R and the R Programmer 

- Typical uses for R
  - Data preparation (cleaning, reshaping, creation)  
  - Data analysis
  - Data visualization
  - Automation
  - Productizing
- Mental models and analysis tools
  - Excel/SPSS/Stata --&gt; computational programming tools like R
- What all R programmers do
  - Google for answers
  - Borrow code
  - Ask friends and pros for help
  - Ask ChatGPT
- Useful references (see Reference Materials in the [syllabus](https://gbearden.github.io/r_course_evans_school/) for more)
  - help()
  - ??
  - [R Bloggers](https://www.r-bloggers.com/)
  - [stackoverflow](https://stackoverflow.com/questions/tagged/r)

---

# Quick Tour of R Studio

- Script vs. notebook  
  - Scripts are good for code development, running code in production, version control, and multi-file analyses
  - Notebooks are good for sharing analysis, documentation, mixed code in a single file
- Run code from the notebook and the console  
  - Console vs. notebooks/scripts
- Make sure you can install packages
  - Command line/Console
  - R Studio GUI

--

```r
install.packages('tidyverse')
```

---

# Quick Tour of R Studio

- Script vs. notebook  
  - Scripts are good for code development, running code in production, version control, and multi-file analyses
  - Notebooks are good for sharing analysis, documentation, mixed code in a single file
- Run code from the notebook and the console  
  - Console vs. notebooks/scripts
- Make sure you can install packages
  - Command line/Console
  - R Studio GUI
  
&lt;img src="./figures/r_studio_install_packages.png" width="60%" /&gt;

--- 
class: inverse, middle, center

# Libraries, functions, data

---

# &lt;img src="figures/toolbox.png" style="height: 50px"/&gt; &lt;span style='color:#6DA34D'&gt;Libraries&lt;/span&gt;, functions, data

- Libraries (or packages) are collections of functions (and datasets)
- ~20,000 libraries on [CRAN](https://cran.r-project.org/web/packages/)

```r
install.packages('tidyverse')
library(tidyverse)
```

---

# &lt;img src="figures/tools.png" style="height: 50px"/&gt; Libraries, &lt;span style='color:#6DA34D'&gt;functions&lt;/span&gt;, data

- Functions perform operations in R
```r
some_numbers &lt;- c(1,2,4)
# min(), mean(), max(), and sd() are functions. c() is actually a function too!
min(some_numbers)
mean(some_numbers)
max(some_numbers)
sd(some_numbers)
```

---

# &lt;img src="figures/tools.png" style="height: 50px"/&gt; Libraries, &lt;span style='color:#6DA34D'&gt;functions&lt;/span&gt;, data

- Functions perform operations in R

```r
some_numbers &lt;- c(1,2,4)
# min(), mean(), max(), and sd() are functions. c() is actually a function too!
min(some_numbers)
## [1] 1
mean(some_numbers)
## [1] 2.333333
max(some_numbers)
## [1] 4
sd(some_numbers)
## [1] 1.527525
```

---

# &lt;img src="figures/tools.png" style="height: 50px"/&gt; Libraries, &lt;span style='color:#6DA34D'&gt;functions&lt;/span&gt;, data

- Function arguments
  - Let's look at arguments in the `lm()` and `min()` functions  
  - Arguments are used to specify data and customize an operation
  - Arguments are comma separated

```r
help(lm)
help(min)
```

---

# &lt;img src="figures/tools.png" style="height: 50px"/&gt; Libraries, &lt;span style='color:#6DA34D'&gt;functions&lt;/span&gt;, data

- Function arguments
  - Let's look at arguments in the `lm` and `min` functions  
  - Arguments are used to specify data and custom what the function does 
  - Arguments are comma separated

```r
some_numbers &lt;- c(1, 2, NA, 4)
min(some_numbers)
mean(some_numbers)
max(some_numbers)
sd(some_numbers)
```

---

# &lt;img src="figures/tools.png" style="height: 50px"/&gt; Libraries, &lt;span style='color:#6DA34D'&gt;functions&lt;/span&gt;, data

- Function arguments
  - Let's look at arguments in the `lm` and `min` functions  
  - Arguments are used to specify data and custom what the function does  
  - Arguments are comma separated


```r
some_numbers &lt;- c(1,2,NA, 4)
min(some_numbers)
## [1] NA
mean(some_numbers)
## [1] NA
max(some_numbers)
## [1] NA
sd(some_numbers)
## [1] NA
```

---

# &lt;img src="figures/tools.png" style="height: 50px"/&gt; Libraries, &lt;span style='color:#6DA34D'&gt;functions&lt;/span&gt;, data

- Function arguments
  - Let's look at arguments in the `lm` and `min` functions  
  - Arguments are used to specify data and custom what the function does  
  - Arguments are comma separated


```r
some_numbers &lt;- c(1,2,NA, 4)
min(some_numbers, na.rm = TRUE)
## [1] 1
mean(some_numbers, na.rm = TRUE)
## [1] 2.333333
max(some_numbers, na.rm = TRUE)
## [1] 4
sd(some_numbers, na.rm = TRUE)
## [1] 1.527525
```

---

# &lt;img src="figures/tools.png" style="height: 50px"/&gt; Libraries, &lt;span style='color:#6DA34D'&gt;functions&lt;/span&gt;, data

**Exercise - 5 minutes**  
- Ask [ChatGPT](https://chat.openai.com/) to write a function that sums two numbers
- Copy and paste the function into your R script
- Run the code in the command line to create the function
- Try to use the function!

<div class="countdown" id="timer_a88ce64c" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# &lt;img src="figures/tools.png" style="height: 50px"/&gt; Libraries, &lt;span style='color:#6DA34D'&gt;functions&lt;/span&gt;, data

**Exercise - 5 minutes**  
- Ask [ChatGPT](https://chat.openai.com/) to write a function that sums two numbers
- Copy and paste the function into your R script
- Run the code in the command line to create the function
- Try to use the function!

```r
# A function called sum_two_numbers that takes two arguments.
# Argument 'x' represents the first number to be added.
# Argument 'y' represents the second number to be added.

sum_two_numbers &lt;- function(x, y) {
  # Calculate the sum of x and y and store it in the variable 'result'
  result &lt;- x + y
  
  # Return the result as the output of the function
  return(result)
}
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Data type is an important concept in all programming languages
  - Creates a set of rules for inputs and outputs  
- Data types  
  - Vectors, tibbles, data frames
      - `str_subset()` removes a value from a string
      - `filter()` removes an observation from a tibble or data frame
  - Integers, numbers, characters, factors
      - You can sum integers and numbers, but not character strings
  
--

Confirm data type

```r
class(c('Washington', 'Oregon', 'Idaho'))
is.character(c('Washington', 'Oregon', 'Idaho'))
is.factor(c('Washington', 'Oregon', 'Idaho'))
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Data type is an important concept in all programming languages
  - Creates a set of rules for inputs and outputs  
- Data types  
  - Vectors, tibbles, data frames
      - `str_subset()` removes a value from a string
      - `filter()` removes an observation from a tibble or data frame
  - Integers, numbers, characters, factors
      - You can sum integers and numbers, but not character strings
  
Confirm data type


```r
class(c('Washington', 'Oregon', 'Idaho'))
## [1] "character"
is.character(c('Washington', 'Oregon', 'Idaho'))
## [1] TRUE
is.factor(c('Washington', 'Oregon', 'Idaho'))
## [1] FALSE
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Data type is an important concept in all programming languages
  - Creates a set of rules for inputs and outputs  
- Data types  
  - Vectors, tibbles, data frames
      - `str_subset()` removes a value from a string
      - `filter()` removes an observation from a tibble or data frame
  - Integers, numbers, characters, factors
      - You can sum integers and numbers, but not character strings
  
--

Confirm data type

```r
class(c('Washington', 'Oregon', 'Idaho'))
is.character(c('Washington', 'Oregon', 'Idaho'))
is.factor(c('Washington', 'Oregon', 'Idaho'))
```

--

Coerce data type

```r
as.factor(c('Washington', 'Oregon', 'Idaho'))
class(as.factor(c('Washington', 'Oregon', 'Idaho')))
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Data type is an important concept in all programming languages
  - Creates a set of rules for inputs and outputs  
- Data types  
  - Vectors, tibbles, data frames
      - `str_subset()` removes a value from a string
      - `filter()` removes an observation from a tibble or data frame
  - Integers, numbers, characters, factors
      - You can sum integers and numbers, but not character strings
  
Coerce data type


```r
as.factor(c('Washington', 'Oregon', 'Idaho'))
## [1] Washington Oregon     Idaho     
## Levels: Idaho Oregon Washington
class(as.factor(c('Washington', 'Oregon', 'Idaho')))
## [1] "factor"
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt; 

- Data types  
  -  **Vectors**, tibbles, data frames
- Vectors contain 1 or more values in a string  
- Call a specific element by its location in a vector  

```r
c('Washington', 'Oregon', 'Idaho')
## [1] "Washington" "Oregon"     "Idaho"
1:10
##  [1]  1  2  3  4  5  6  7  8  9 10
rep(1:2, times = 2)
## [1] 1 2 1 2
seq(from = 0, to = 100, by = 10)
##  [1]   0  10  20  30  40  50  60  70  80  90 100
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Data types  
  - **Vectors**, tibbles, data frames
- Vectors contain 1 or more values in a string  
- Call a specific element by its location in a vector  

```r
c('Washington', 'Oregon', 'Idaho')[2]
seq(from = 0, to = 100, by = 10)[6]
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Data types  
  - **Vectors**, tibbles, data frames
- Vectors contain 1 or more values in a string  
- Call a specific element by its location in a vector  


```r
c('Washington', 'Oregon', 'Idaho')[2]
## [1] "Oregon"
seq(from = 0, to = 100, by = 10)[6]
## [1] 50
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Data types  
  - Vectors, **tibbles**, data frames
- Tibbles look a little like spreadsheets
- Tibbles contain metadata on the dataset
  - Dimensions
  - Variable types
- Truncate variable names and values 

```r
tibble(
  x = c(1:3)
  , y = c(4:6)
  , z = c('Washington', 'Oregon', 'Idaho')
  )
## # A tibble: 3 Ã— 3
##       x     y z         
##   &lt;int&gt; &lt;int&gt; &lt;chr&gt;     
## 1     1     4 Washington
## 2     2     5 Oregon    
## 3     3     6 Idaho
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Call a specific variable by name or location in the tibble
  - Variables are vectors  
  - Use the `$` between the tibble name and the variable name
  - Also able to call the column (or row) by index number

```r
starwars$name
starwars[,1]
```


```
## [1] "Luke Skywalker"     "C-3PO"              "R2-D2"             
## [4] "Darth Vader"        "Leia Organa"        "Owen Lars"         
## [7] "Beru Whitesun lars"
```

---

# &lt;img src="figures/data.png" style="height: 50px"/&gt; Libraries, functions, &lt;span style='color:#6DA34D'&gt;data&lt;/span&gt;

- Data types  
  - Vectors, tibbles, **data frames**
- Data frames are like tibbles minus metadata (and truncated print)

```r
data.frame(
  x = c(1:3)
  , y = c(4:6)
  , z = c('Washington', 'Oregon', 'Idaho')
  )
##   x y          z
## 1 1 4 Washington
## 2 2 5     Oregon
## 3 3 6      Idaho
```

---
class: inverse, middle, center

# Let's apply what we learned to real data

---

# Let's apply what we learned to real data

You are an analyst at the City of Seattle. City leadership wants to develop new policy to regulate Airbnb properties. Over the next month, you will be asked to prepare findings that you observe in the [dataset compiled on Airbnb properties](https://www.kaggle.com/shanelev/seattle-airbnb-listings).  

--

**Exercise - 5 minutes**  
- What type of data object is `airbnb`?  
- What is the fewest number of `reviews` for a property?  
- What is the average number of `reviews` for a property?  
- What is the range of number of `bathrooms` in the `airbnb` data?  

--

To answer the questions, import the Seattle `airbnb` dataset.  
```r
airbnb &lt;- read_csv('https://bit.ly/3oadz2L')
```

<div class="countdown" id="timer_41c77269" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Let's apply what we learned to real data

**Exercise - 5 minutes**  
- What type of data object is `airbnb`?  
- What is the fewest number of `reviews` for a property?  
- What is the average number of `reviews` for a property?  
- What is the range of number of `bathrooms` in the `airbnb` data?  


```r
class(airbnb)
## [1] "spec_tbl_df" "tbl_df"      "tbl"         "data.frame"
```

--


```r
min(airbnb$reviews)
## [1] 0
mean(airbnb$reviews)
## [1] 48.15021
```

--


```r
min(airbnb$bathrooms, na.rm = TRUE)
## [1] 0
max(airbnb$bathrooms, na.rm = TRUE)
## [1] 8
```

---
class: inverse, middle, center

# Base R functions to explore tibbles

---

# Base R functions to explore tibbles 

Get in the habit of running these functions when you open a new dataset

- `head()` shows you the top of a tibble (or data frame)
  - `head()` argument defaults to 6  
  - `tail()` shows the bottom of a tibble  
  - `arrange()` pairs nicely with subsetting functions to explore your data
- `summary()` shows summary statistics on all variables in a dataset
  - Reported summary statistics depend on the variable type
  - Min, max, mean, and median are reported for numeric variables 
- `ls()` shows all variables in a tibble
  - You can also use `ls()` without calling an object between the parentheses to see all objects in your workspace
- `str()` tells the variable type and selected variable values in a tibble for all variables
- `dim()` tells you the dimensions of your dataset
  - `nrow()` reports the number of rows only 
  - `ncol()` reports the number of columns only

---

# Base R functions to explore tibbles

**Exercise 2 - 5 minutes**  
- How many observations (or rows) are in `airbnb`?  
- What is the median value for `rating`?  
- How many variables are in `airbnb`?  

&lt;i&gt;Hint: There are multiple ways to answers these questions with the functions you know&lt;/i&gt;

<div class="countdown" id="timer_86fd67b3" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Base R functions to explore tibbles

**Exercise 2 - 5 minutes**  
- How many observations (or rows) are in `airbnb`?  
- What is the median value for `rating`?  
- How many variables are in `airbnb`?  


```r
nrow(airbnb)
## [1] 7423
```

--


```r
median(airbnb$rating, na.rm = TRUE)
## [1] 5
```

--


```r
ncol(airbnb)
## [1] 14
```

--

Other methods to answer questions
```r
dim(airbnb)
summary(airbnb)
```

---

# Base R functions to explore vectors

- `table()` shows you the distribution of values in a vector  
  - Indexed by name and position  
- `length()` tells you in the number of elements in a vector  
- `unique()` shows you the unique values in a vector  
- `sort()` orders values in a vector  
- `summary()` shows you descriptive statistics on a vector  
  - `summary()` can run on a vector or tibble  

--

You can nest multiple functions
```r
length(unique(airbnb$room_type))
```

---

# Base R functions to explore vectors

**Exercise 3 - 5 minutes**  
- How many distinct `address` values are there?  
- Which is the third `host_id` value after sorting unique ids alphabetically?  
- Is 'yurt' a `room_type` value?  

<div class="countdown" id="timer_3b837e52" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Base R functions to explore vectors

**Exercise 3 - 5 minutes**  
- How many distinct `address` values are there?  
- Which is the third `host_id` value after sorting unique ids alphabetically?  
- Is 'yurt' a `room_type` value?  


```r
length(unique(airbnb$address))
## [1] 4
```

--


```r
head(sort(unique(airbnb$host_id)), 3)
## [1] 2536 4193 4797
```

--


```r
unique(airbnb$room_type)
## [1] "Entire home/apt" "Private room"    "Shared room"
```

---

# Troubleshooting your R code

Make sure...

- You loaded your libraries
- Arguments in your functions are comma-separated
- Your functions have start and closing parentheses
- You have start and end quotation marks where relevant
- The variable type is correct to perform the function you call
  - For example you probably don't want to run `min()` on a character string
- Your assignment operator looks like this: `&lt;-`
- You're running code inside a code chunk (in a notebook)

--

Feel free to ask ChatGPT why you see an error!

```
Why does this code throw an error in R? 
[Your code]
```

---

# Practice with climate data

By day you're an analyst at the City of Seattle; by night you're a climate analyst at the Earth Institute. Over the next four weeks, you will analyze [climate data](https://www.kaggle.com/sohelranaccselab/global-climate-change) to answer questions that help the Earth Institute understand temperature and temperature change in cities and countries around the world.

--

**Exercise 4 - 10 minutes**  
- What is the earliest `year` in the `climate` dataset?  
- What is the range of `uncertainty` values?  
- How many cities and countries are in the dataset?  
- In how many rows in the dataset is Japan the `country` value?  

--

&lt;b&gt;Begin the exercise by importing the climate dataset in R Studio&lt;/b&gt;  
```r
climate &lt;- read_csv('https://bit.ly/3kKErEb')
```

<div class="countdown" id="timer_7e4fa41b" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

# Practice with climate data

**Exercise 4 - 10 minutes**  
- What is the earliest `year` in the `climate` dataset?  
- What is the range of `uncertainty` values?  
- How many cities and countries are in the dataset?  
- In how many rows in the dataset is Japan the `country` value?  


```r
min(climate$year)
## [1] 1743
```

--


```r
min(climate$uncertainty, na.rm = TRUE)
## [1] 0.04
max(climate$uncertainty, na.rm = TRUE)
## [1] 14.037
```

--


```r
length(unique(climate$city))
## [1] 100
length(unique(climate$country))
## [1] 49
```

---

# Practice with climate data

**Exercise 4 - 10 minutes**  
- What is the earliest `year` in the `climate` dataset?  
- What is the range of `uncertainty` values?  
- How many cities and countries are in the dataset?  
- In how many rows in the dataset is Japan the `country` value?  


```r
table(climate$country)['Japan']
## Japan 
##  4095
```
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
